{% set license = frappe.get_doc("LicenseType",doc.license_type) %}
<div class="flex justify-center">
    <div class="license-header mx-auto text-center">{{license.license_type}}
        <br />
        {{doc.license_main_type}}
    </div>
</div>

<div class="flex justify-end text-right my-2">
    สำนักงาน{{frappe.db.get_single_value("MaechanConfig", "title") }}
</div>
{% if doc.license_applicant_type == "บุคคลธรรมดา" %}
<div class="flex flex-row  mt-1">
    <div class="indent-12">อนุญาตให้</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant | handleNone}}</div>

    <div class="ml-3 pr-3 whitespace-nowrap">สัญชาติ</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_nationality | handleNone}}
    </div>

    <div class="ml-3 pr-3 whitespace-nowrap">เชื้อชาติ</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_ethnicity | handleNone}}
    </div>
</div>

{% elif doc.license_applicant_type == "นิติบุคคล" %}

<div class="flex flex-row  mt-1">
    <div class="indent-12">อนุญาตให้</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant | handleNone}}</div>
    <div class="ml-3 pr-3 whitespace-nowrap">โดย</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_by | handleNone}}</div>
</div>
{%endif%}



<div class="flex justify-between  mt-1">
    {% if doc.license_applicant_type == "บุคคลธรรมดา" %}
    <div class="pr-3 whitespace-nowrap">อยู่บ้านเลขที่</div>

    {% elif doc.license_applicant_type == "นิติบุคคล" %}

    <div class="pr-3 whitespace-nowrap">สำนักงานใหญ่ตั้งอยู่เลขที่</div>
    {% elif doc.license_applicant_type == "นิติบุคคล" %}

    {%endif%}

    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_address_no | handleNone}}
    </div>
    <div class="ml-3 pr-3 whitespace-nowrap">หมู่ที่</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_address_moo| handleNone}}
    </div>
    <div class="ml-3 pr-3 whitespace-nowrap">ตรอก/ซอย</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_address_soi| handleNone}}
    </div>
    <div class="ml-3 pr-3 whitespace-nowrap">ถนน</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_address_road| handleNone}}
    </div>

</div>
<div class="flex justify-between mt-1">
    <div class="pr-3 whitespace-nowrap">ตำบล</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_address_district_th|
        handleNone}}</div>
    <div class="ml-3 whitespace-nowrap">อำเภอ</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_address_amphur_th|
        handleNone}}</div>
    <div class="ml-3 whitespace-nowrap">จังหวัด</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{doc.license_applicant_address_province_th|
        handleNone}}</div>
</div>
<div class="flex mt-1">
    <div class="pr-3 whitespace-nowrap">โทรศัพท์</div>
    <div class="ml-3 pr-3 font-semibold">{{doc.license_applicant_telephone | handleNone}}</div>
    <div class="ml-3 pr-3 ">แฟกซ์</div>
    <div class="ml-3 pr-3 whitespace-nowrap font-semibold">{{doc.license_applicant_fax | handleNone}}</div>
</div>


<div class="flex mt-1">
    <div class="indent-12 pr-2 whitespace-nowrap">ข้อ 1. ประกอบกิจการประเภท</div>
    <div class="font-semibold">{{doc.license_type | handleNone}}</div>
</div>

<div class="flex mt-1">
    <div class="pr-2 whitespace-nowrap">โดยใช้ชื่อสถานประกอบการ</div>
    <div class="pr-3 font-semibold">{{doc.license_applicant_title | handleNone}}</div>
</div>

<div class="flex justify-between  mt-1">
    {% set house = frappe.get_doc('House',doc.house_id) %}
    <div class="pr-3 whitespace-nowrap">ตั้งอยู่ ณ เลขที่</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{house.house_no | handleNone}}</div>
    <div class="ml-3 pr-3 whitespace-nowrap">หมู่ที่</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{house.house_moo| handleNone}}</div>
    <div class="ml-3 pr-3 whitespace-nowrap">ตรอก/ซอย</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{house.house_soi| handleNone}}</div>
    <div class="ml-3 pr-3 whitespace-nowrap">ถนน</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{house.house_road| handleNone}}</div>

</div>
<div class="flex justify-between mt-1">
    <div class="pr-3 whitespace-nowrap">ตำบล</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{house.tambon_th| handleNone}}</div>
    <div class="ml-3 whitespace-nowrap">อำเภอ</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{house.amphure_th| handleNone}}</div>
    <div class="ml-3 whitespace-nowrap">จังหวัด</div>
    <div class="mx-auto text-center grow whitespace-nowrap font-semibold">{{house.province_th| handleNone}}</div>
</div>

<div class="flex mt-1">
    <div class="pr-3 whitespace-nowrap">โทรศัพท์</div>
    <div class="ml-3 pr-3 font-semibold">{{doc.telephone | handleNone}}</div>
</div>

{#เริ่มต้นส่วนของความแตกต่างแต่ละกลุ่ม#}
<div class="flex flex-row mt-1">
    <div>มีพื้นที่ประกอบการ</div>
    <div class="ml-3 font-semibold">{{doc.license_extra[0].value}}</div>
</div>

{#สิ้นสุดส่วนของความแตกต่างแต่ละกลุ่ม#}

<div class="flex flex-row justify-between  mt-1">
    <div class="indent-12">ข้อ 2. ผู้ประกอบการได้เสียค่าธรรมเสียม</div>
    <div class="font-semibold">{{doc.license_fee}}</div>
    <div>บาท</div>
    <div class="font-semibold">({{ toBahtText(doc.license_fee) }})</div>
    <div>/ ปี</div>
</div>
<div class="flex flex-row justify-between  mt-1">
    <div class="">ตามใบเสร็จรับเงินเล่มที่</div>
    <div class="font-semibold">{{doc.license_receipt_number}}</div>
    <div>ลงวันที่</div>
    {% set date = strToDate(doc.receipt_date) %}
    <div class="font-semibold">{{date.strftime("%d")}}</div>
    <div>เดือน</div>
    <div class="font-semibold">{{getThaiFullMonth(date)}}</div>
    <div>พ.ศ.</div>
    <div class="font-semibold">{{getThaiFullYear(date)}}</div>
</div>

<div class="flex flex-row justify-between  mt-1">
    <div class="indent-12">ข้อ 3. ผู้ได้รับหนังสือรับรองการแจ้ง ต้องปฏิบัติตามข้อกำหนดด้านสุขลักษณะตามที่กำหนดไว้ในข้อกำหนดของเทศบัญญัติเทศบาลตำบลแม่จัน</div>
</div>

<div class="flex flex-row justify-between  mt-1">
    <div class="indent-12">ข้อ 4. ผู้ได้รับหนังสือรับรองการแจ้ง ต้องปฏิบัติตามเงื่อนไขเฉพาะดังต่อไปนี้</div>
</div>
<div class="flex flex-row justify-between  mt-1">
    <div class="indent-24">4.1 ปฏิบัติตามเทศบัญญัติเทศบาลตำบลแม่จัน เรื่องสถานที่จำหน่ายอาหารและสถานที่สะสมอาหาร พ.ศ.2543
        และปฏิบัติการอื่นใดเกี่ยวด้วยสุขลักษณะตามคำแนะนำของเจ้าพนักงานสาธารณสุข คำสั่งของเจ้าพนักงานท้องถิ่น
        คะแนะนำของพนักงานเจ้าหน้าที่ ตลอดจนระเบียบ ข้อบังคับ และประกาศของเทศบาลตำบลแม่จัน
    </div>
</div>

{% set start_date = strToDate(doc.license_start_date) %}
{% set end_date = strToDate(doc.license_end_date) %}

<div class="flex flex-row font-bold  mt-2 license-date">
    <div class="w-12"></div>
    <div class="w-60 text-end mr-3">ให้ชำระค่าธรรมเนียมก่อนวันที่</div>
    <div class="text-center mr-3">{{end_date.strftime("%d")}}</div>
    <div class="text-center mr-3">เดือน</div>
    <div class="text-center mr-3">{{getThaiFullMonth(end_date)}}</div>
    <div class="text-center mr-3">พ.ศ.</div>
    <div class="text-center mr-3">{{getThaiFullYear(end_date)}}</div>
</div>
